<div *ngIf="isLoading" class="loading">Loading...</div>

<h2 class="title text-center mt-5">âœ… Order Confirmation</h2>
<div *ngIf="!isLoading && orderDetails" class="order-container mt-5">

  <div class="items-list">
    <h4>ğŸ›’ Ordered Items</h4>

    @for (item of orderDetails.items; track orderId) {
      <div class="item-card">
        <img [src]="item.productImageUrl" alt="{{ item.productName }}" class="product-img" />
        <div class="item-details">
          <p><strong>ğŸ“¦ Product:</strong> {{ item.productName.slice(0,10) }}</p>
          <p><strong>ğŸ”¢ Quantity:</strong> {{ item.quantity }}</p>
          <p><strong>ğŸ’µ Unit Price:</strong> {{ item.unitPrice }} EGP</p>
        </div>
      </div>
    } @empty {
      <p>No items in this order</p>
    }
  </div>

  <div class="order-summary">
    <p><strong>ğŸ§¾ Order ID:</strong> {{ orderDetails.orderId }}</p>
    <p><strong>ğŸ“… Date:</strong> {{ orderDetails.orderDate | date: 'medium' }}</p>
    <p><strong>ğŸšš Status:</strong> {{ orderDetails.orderStatus }}</p>
    <p><strong>ğŸ§¾ Tax:</strong> {{ orderDetails.tax }} EGP</p>
    <p><strong>ğŸšš Shipping:</strong> {{ orderDetails.shipping }} EGP</p>
    <p><strong>ğŸ’° Total:</strong> {{ orderDetails.total }} EGP</p>
  </div>

  <div class="payment-info">
    <!-- <h3>ğŸ’³ Payment Details</h3> -->
    <!-- <p><strong>Intent ID:</strong> {{ orderDetails.paymentIntentId }}</p> -->
  </div>

  <div class="buttons">
    <!-- <button (click)="viewOrder()" class="btn submit text-white mx-3">ğŸ“„ View My Orders</button> -->
    <button routerLink="/Homepage"  class="btn btn-primary mx-2">ğŸ  Go Home</button>
    <button routerLink="/myOrders" class="btn btn-secondary mx-2"> Go To My Orders</button>
    <button (click)="CancelOrder(orderDetails.orderId)" class="btn submit text-white mx-2">Cancel order</button>
  </div>
</div>